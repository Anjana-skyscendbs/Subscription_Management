<?xml version="1.0" encoding="UTF-8" ?>
<odoo>



    <!-- Form view of PLan -->
    <record id="view_plan_form" model="ir.ui.view">
        <field name="name">view.standard.form</field>
        <field name="model">subscription.plan</field>
        <field name="arch" type="xml">
            <form>
                <sheet>

                    <group>
                        <field name="name"/>
                        <field name="code"/>
                        <field name="duration"/>
                        <field name="unit"/>
                        <field name="start_timestamp"/>
                         <field name="end_timestamp"/>
                         <field name="color" widget="color_picker"/>

                    </group>
                </sheet>
            </form>
        </field>
    </record>

    <!-- Tree view of PLan -->
    <record id="view_plan_tree" model="ir.ui.view">
        <field name="name">view.plan.tree</field>
        <field name="model">subscription.plan</field>
        <field name="arch" type="xml">
            <tree>
                <field name="name"/>
                <field name="code"/>
                <field name="duration"/>
                <field name="unit"/>
                <field name="color" widget="color_picker"/>
            </tree>
        </field>
    </record>


    <!-- Calendar view of Recurrence -->
    <record id="view_recurrence_calendar" model="ir.ui.view">
        <field name="name">view.recurrence.calendar</field>
        <field name="model">subscription.plan</field>
        <field name="arch" type="xml">
               <calendar string="Calendar View"
                         date_start="start_timestamp"
                         date_stop="end_timestamp"
                         mode="month"
                         event_open_popup="true">
<!--                         date_delay=""-->
                     <field name="name"/>
<!--                    <field name="duration"/>-->
<!--                   <field name="unit"/>-->
               </calendar>
        </field>

    </record>

    <!-- Kanban view -->
    <record id="view_plan_kanban" model="ir.ui.view">
        <field name="name">view.plan.kanban</field>
        <field name="model">subscription.plan</field>
        <field name="arch" type="xml">
            <kanban string ="Subscription Kanban" class ="o_res_partner_kanban">
                <field name ="id"/>
                <field name="color"/>
<!--                <field name="sub_type_ids"/>-->
                <templates>
                    <t t-name ="kanban-menu">
                                    <!-- type="open" is used to open the form view in non editable mode -->

                                    <!-- type="edit" is used to open the form view in editable mdoe -->
                                    <t t-if="widget.editable">
<!--                                         <a role="menuitem" type="edit" class="dropdown-item border-top-0">Edit</a>-->
                                        <a type="edit" class="dropdown-item">Edit</a>
                                    </t>
                                    <!-- type="delete" is used to delete the record -->
                                    <t t-if="widget.deletable">
                                        <a type="delete" class="dropdown-item">Delete</a>
                                    </t>
                                    <div role="separator" class="dropdown-divider"/>
                                    <!-- Adding Colorpicker to select the color -->
                                    <ul class="oe_kanban_colorpicker" data-field="color"/>

                             </t>
                    <t t-name ="kanban-box">
<!--                        kanban-menu <div class="oe_kanban_global_click" style="height:135px;background-color:#ccff99;color:#006600;">-->
                         <div t-attf-class="#{!selection_mode ? kanban_color(record.color.raw_value) : ''} oe_kanban_card oe_kanban_color oe_kanban_global_click">
                            <div style="width:30%;float:left;display:inline-block;">
<!--                                <img alt="Avatar" t-att-src="kanban_image('subscription.user','photo',record.id.raw_value)" style="width:100px;height:120px;"/>-->
                            </div>
                            <div style="width:70%;float:right;display:inline-block;">
                                <ul style ="list-style-type:none;">
                                    <li>
                                        <b> Name : </b>
                                        <field name="name"/>
                                    </li>
                                    <li>
                                        <b> Code : </b>
                                        <field name="code"/>
                                    </li>
                                    <li>
                                        <b> Duration: </b>
                                        <field name="duration"/>
                                    </li>
                                     <li>
                                        <b> Unit: </b>
                                        <field name="unit"/>
                                    </li>
                                </ul>
                            </div>


                        </div>
                    </t>
                </templates>

            </kanban>
        </field>
    </record>


    <!-- Action of Plan -->
    <record id="action_plan" model="ir.actions.act_window">
        <field name="name">Recurrence Period</field>
        <field name="res_model">subscription.plan</field>
        <field name="view_mode">tree,form,calendar,kanban</field>
    </record>

    <!-- Menu of Plans -->
    <menuitem id="menu_plan" action="action_plan" parent="menu_configuration"/>

</odoo>